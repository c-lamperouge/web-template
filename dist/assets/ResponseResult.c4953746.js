var d=Object.defineProperty;var w=(r,e,s)=>e in r?d(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var u=(r,e,s)=>(w(r,typeof e!="symbol"?e+"":e,s),s);const v=Symbol("@ts-pattern/matcher"),f="@ts-pattern/anonymous-select-key",m=r=>Boolean(r&&typeof r=="object"),c=r=>r&&!!r[v],h=(r,e,s)=>{if(m(r)){if(c(r)){const t=r[v](),{matched:n,selections:a}=t.match(e);return n&&a&&Object.keys(a).forEach(o=>s(o,a[o])),n}if(!m(e))return!1;if(Array.isArray(r))return!!Array.isArray(e)&&r.length===e.length&&r.every((t,n)=>h(t,e[n],s));if(r instanceof Map)return e instanceof Map&&Array.from(r.keys()).every(t=>h(r.get(t),e.get(t),s));if(r instanceof Set){if(!(e instanceof Set))return!1;if(r.size===0)return e.size===0;if(r.size===1){const[t]=Array.from(r.values());return c(t)?Array.from(e.values()).every(n=>h(t,n,s)):e.has(t)}return Array.from(r.values()).every(t=>e.has(t))}return Object.keys(r).every(t=>{const n=r[t];return(t in e||c(a=n)&&a[v]().matcherType==="optional")&&h(n,e[t],s);var a})}return Object.is(e,r)},b=r=>new i(r,[]);class i{constructor(e,s){this.value=void 0,this.cases=void 0,this.value=e,this.cases=s}with(...e){const s=e[e.length-1],t=[e[0]],n=[];return e.length===3&&typeof e[1]=="function"?(t.push(e[0]),n.push(e[1])):e.length>2&&t.push(...e.slice(1,e.length-1)),new i(this.value,this.cases.concat([{match:a=>{let o={};const y=Boolean(t.some(l=>h(l,a,(p,g)=>{o[p]=g}))&&n.every(l=>l(a)));return{matched:y,value:y&&Object.keys(o).length?f in o?o[f]:o:a}},handler:s}]))}when(e,s){return new i(this.value,this.cases.concat([{match:t=>({matched:Boolean(e(t)),value:t}),handler:s}]))}otherwise(e){return new i(this.value,this.cases.concat([{match:s=>({matched:!0,value:s}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,s=this.value;for(let t=0;t<this.cases.length;t++){const n=this.cases[t],a=n.match(this.value);if(a.matched){s=a.value,e=n.handler;break}}if(!e){let t;try{t=JSON.stringify(this.value)}catch{t=this.value}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}return e(s,this.value)}}class k{constructor(e,s,t){u(this,"requestName");u(this,"responseType");u(this,"responseContent");this.requestName=e,this.responseType=s,this.responseContent=t}}export{b as K,k as R};
