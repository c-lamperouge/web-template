import{_ as y,d as w,r as v,u as D,o as r,c as f,a as e,b as m,e as b,t as S,w as h,v as $,p as L,f as C,V as _,g as M,h as I,i as k,n as P,j,T as B,k as R,F as z,l as T,m as U,q as V,s as F,x as G,y as H}from"./index.f79a6eca.js";import{I as O}from"./round-menu.2163bcd7.js";import{I as Y,D as q}from"./DialogBackdrop.b106f7eb.js";import{R as A,K}from"./index.modern.1b88bcf0.js";const N=a=>(L("data-v-222d58b6"),a=a(),C(),a),J={class:"header-left"},Q=N(()=>e("div",{class:"header-center"}," Administrator Interface Dashboard ",-1)),W={class:"header-right"},X={class:"name"},Z={class:"user-dropdown"},ee=N(()=>e("li",null,"account",-1)),ae=w({__name:"TheHeader",props:{userName:null},emits:["switchAside"],setup(a,{emit:t}){const i=a;let o=v(!1);const d=()=>{o.value=!o.value},n=D(),l=()=>{o.value=!1,history.pushState(_.Login,"login","/login"),n.appViewTransitionType=M.SlideDown,n.appActiveView=_.Login};return(x,s)=>(r(),f("header",null,[e("div",J,[m(b(O),{class:"icon-block",onClick:s[0]||(s[0]=c=>t("switchAside"))})]),Q,e("div",W,[e("div",{class:"user",onMouseleave:s[1]||(s[1]=c=>o.value=!1)},[e("div",{class:"user-primary",onClick:d},[m(b(Y),{class:"icon"}),e("span",X,S(i.userName),1)]),h(e("div",Z,[e("ul",null,[ee,e("li",{onClick:l}," log out ")])],512),[[$,o.value]])],32)])]))}});var te=y(ae,[["__scopeId","data-v-222d58b6"]]);const oe=w({__name:"DrawerBackdrop",props:{modelValue:{type:Boolean},enableClose:{type:Boolean,default:!0},backdropTheme:{default:"dark"},backdropTransitionName:{default:"fade"},slotTransitionName:{default:()=>{}},transitionDuration:{default:"250ms"}},emits:["update:modelValue"],setup(a,{emit:t}){const i=I(()=>`bg-${a.backdropTheme}`),o=()=>{a.enableClose&&t("update:modelValue",!1)};return(d,n)=>(r(),f(z,null,[m(B,{name:a.backdropTransitionName},{default:k(()=>[h(e("div",{class:P(["dialog-backdrop",b(i)]),style:j({"--transition-duration":a.transitionDuration}),onClick:o},null,6),[[$,a.modelValue]])]),_:1},8,["name"]),m(B,{name:a.slotTransitionName},{default:k(()=>[R(d.$slots,"default",{},void 0,!0)]),_:3},8,["name"])],64))}});var ie=y(oe,[["__scopeId","data-v-01491b08"]]);const ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},se=e("path",{fill:"currentColor",d:"M17.59 18L19 16.59L14.42 12L19 7.41L17.59 6l-6 6z"},null,-1),de=e("path",{fill:"currentColor",d:"m11 18l1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},null,-1),re=[se,de];function le(a,t){return r(),f("svg",ne,re)}var ce={name:"ic-baseline-keyboard-double-arrow-left",render:le};const pe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ue=e("path",{fill:"currentColor",d:"M6.41 6L5 7.41L9.58 12L5 16.59L6.41 18l6-6z"},null,-1),me=e("path",{fill:"currentColor",d:"m13 6l-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},null,-1),ve=[ue,me];function fe(a,t){return r(),f("svg",pe,ve)}var he={name:"ic-baseline-keyboard-double-arrow-right",render:fe};const be={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ge=e("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"},null,-1),xe=[ge];function _e(a,t){return r(),f("svg",be,xe)}var ye={name:"ic-baseline-close",render:_e};const E=a=>(L("data-v-014c2d11"),a=a(),C(),a),we={class:"aside-head"},ke=E(()=>e("div",{class:"title"}," aside head ",-1)),$e=E(()=>e("ul",{class:"aside-body"},[e("li",{class:"active"}," Dashboard "),e("li",null,"Form")],-1)),Te=w({__name:"TheAside",props:{modelValue:{type:Boolean},isPinned:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:t}){const i=a,o=I({get(){return i.modelValue},set(d){t("update:modelValue",d)}});return(d,n)=>(r(),T(ie,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=l=>o.value=l),"slot-transition-name":"aside-slide"},{default:k(()=>[h(e("aside",null,[e("div",we,[i.isPinned?(r(),T(b(ce),{key:0,class:"icon"})):(r(),T(b(he),{key:1,class:"icon"})),ke,m(b(ye),{class:"icon",onClick:n[0]||(n[0]=l=>o.value=!1)})]),$e],512),[[$,o.value]])]),_:1},8,["modelValue"]))}});var Ve=y(Te,[["__scopeId","data-v-014c2d11"]]);const g=a=>(L("data-v-533aab8d"),a=a(),C(),a),Le={class:"card"},Ce=g(()=>e("h3",{class:"company-name"}," \u4F20\u667A\u6559\u80B2 ",-1)),Be=F(" Requires a computer running an operating system. The computer must have some memory and ideally some kind of long-term storage. An input device as well as some form of output device is recommended. "),Ae={class:"edit-information"},De=g(()=>e("p",null,"edit-information",-1)),Se={class:"row"},Me=g(()=>e("label",{for:"department-name"},"department name",-1)),Ie={class:"row"},ze=g(()=>e("label",{for:"department-code"},"department code",-1)),Ne={class:"row"},Ee=g(()=>e("label",{for:"department-manager"},"manager",-1)),Pe=g(()=>e("datalist",{id:"department-manager-list"},[e("option",{value:"aaaa"}),e("option",{value:"bbbb"}),e("option",{value:"cccc"}),e("option",{value:"dddd"})],-1)),je=w({__name:"TheMain",setup(a){const t=[{id:0,field:"\u603B\u88C1\u529E"},{id:0,field:"\u4EBA\u4E8B\u90E8"},{id:0,field:"\u884C\u653F\u90E8"},{id:0,field:"\u8D22\u52A1\u90E8"}];let i=v(!1);const o=()=>{i.value=!0};let d=v(""),n=v(""),l=v("");const x=()=>{/.{3~15}/.test(d.value)||console.log("department name invalid")},s=()=>{/.{3~15}/.test(n.value)||console.log("department code invalid")};return(c,p)=>(r(),f("main",null,[e("div",Le,[Ce,(r(),f(z,null,U(t,u=>e("details",{key:u.id,class:"structure-item"},[e("summary",null,S(u.field),1),e("div",{class:"sub1"},[Be,e("button",{onClick:o}," edit ")])])),64))]),m(q,{modelValue:i.value,"onUpdate:modelValue":p[3]||(p[3]=u=>i.value=u),"backdrop-theme":"light","slot-transition-name":"scale"},{default:k(()=>[h(e("div",Ae,[De,e("div",Se,[Me,h(e("input",{id:"department-name","onUpdate:modelValue":p[0]||(p[0]=u=>d.value=u),type:"text",onBlur:x},null,544),[[V,d.value]])]),e("div",Ie,[ze,h(e("input",{id:"department-code","onUpdate:modelValue":p[1]||(p[1]=u=>n.value=u),type:"text",onBlur:s},null,544),[[V,n.value]])]),e("div",Ne,[Ee,h(e("input",{id:"department-manager","onUpdate:modelValue":p[2]||(p[2]=u=>l.value=u),type:"text",list:"department-manager-list"},null,512),[[V,l.value]]),Pe])],512),[[$,i.value]])]),_:1},8,["modelValue"])]))}});var Re=y(je,[["__scopeId","data-v-533aab8d"]]);const Ue=async()=>{const a=await G(),t=a.transaction("authorization"),i=await t.store.get("token");if(t.done.catch(o=>{console.error(o)}),a.close(),i===void 0)throw new Error("indexedDB token not found");return i},Fe=async()=>{const a=await Ue(),t=await fetch("/sys/profile",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${a}`}});return t.ok?new A("postToken2GetProfile","success",t):new A("postToken2GetProfile","failure",t)};const Ge=["data-view-name"],He=w({__name:"MainView",async setup(a){let t,i,o=v(!1);const d=v(!1),n=()=>{o.value=!o.value};let l=v("User");const x=D();try{K(([t,i]=H(()=>Fe()),t=await t,i(),t)).with({responseType:"success"},async s=>{const c=await s.responseContent.json();console.log(c),l.value=c.data.username}).with({responseType:"failure",responseContent:{status:401}},()=>{history.pushState(_.Login,"login","/login"),x.appViewTransitionType=M.SlideDown,x.appActiveView=_.Login}).otherwise(s=>{console.log(s)})}catch(s){console.log(s)}return(s,c)=>(r(),f("div",{class:"main-view","data-view-name":b(_).Main},[m(te,{"user-name":l.value,onSwitchAside:n},null,8,["user-name"]),m(Ve,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p),"is-pinned":d.value},null,8,["modelValue","is-pinned"]),m(Re)],8,Ge))}});var Je=y(He,[["__scopeId","data-v-17194038"]]);export{Je as default};
